{"pageProps":{"frontMatter":{"title":"Spring | URLに含まれるパラメータを@PathVariableで受取る","date":"2022.04.13","description":"Spring | URLに含まれるパラメータを@PathVariableで受取る","categories":["Spring"]},"content":"<p>@PathVariableアノテーションを利用してURLに含まれているパラメータを処理します。URLに含まれるパラメータというのは、コントローラーで@GetMapping(“/get/{id}”)のように定義した時の、”localhost:8080/get/1″の{1}のような値です。</p>\n<p>下記の記事が詳しくまとまっています。</p>\n<p>https://qiita.com/MizoguchiKenji/items/2a041f3a3eb13274e55c</p>\n<p>以下のコントローラーを次の観点で修正します</p>\n<ul>\n<li>@PathVariableを利用する</li>\n<li>idを動的に受け取れるようにする</li>\n</ul>\n<div class=\"remark-highlight\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/get\"</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">public</span> <span class=\"token class-name\">Store</span> <span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token class-name\">Store</span> store <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>storeRepository<span class=\"token punctuation\">.</span><span class=\"token function\">findById</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">return</span> store<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>これを以下のように修正して動きを確認します</p>\n<div class=\"remark-highlight\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/get/{id}\"</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">public</span> <span class=\"token class-name\">Store</span> <span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@PathVariable</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">int</span> id<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token class-name\">Store</span> store <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>storeRepository<span class=\"token punctuation\">.</span><span class=\"token function\">findById</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">return</span> store<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<ul>\n<li>PathVariableで受け取ったパラメータは、改めてidという変数として処理の中で利用します。</li>\n</ul>\n<h2>動作確認</h2>\n<ul>\n<li>パラメータ1でアクセスした場合</li>\n</ul>\n<p><img src=\"/2068/1.png\" alt=\"画像\"></p>\n<ul>\n<li>パラメータ2でアクセスした場合</li>\n</ul>\n<p><img src=\"/2068/2.png\" alt=\"画像\"></p>\n<p>別のレコードが取得できていることが確認できました。※idは取得してないので初期値0になっています。</p>\n<h2>関連記事</h2>\n<p><a href=\"/posts/p1531\">リンク</a></p>\n<p><a href=\"/posts/p1267\">リンク</a></p>","slug":"p2068"},"__N_SSG":true}