{"pageProps":{"frontMatter":{"title":"SpringBoot | Ubuntu環境のServiceにアプリケーションを登録して起動する","date":"2022.05.30","description":"SpringBoot | Ubuntu環境のServiceにアプリケーションを登録して起動する","categories":["Linux"]},"content":"<p>前回の続きです</p>\n<p><a href=\"/posts/p2616\">リンク</a></p>\n<p>今回は以下のことを行います</p>\n<ul>\n<li>Serviceにjarファイルを登録する</li>\n<li>Serviceを起動してアプリケーションを実行する</li>\n</ul>\n<h2>Serviceにjarを登録する</h2>\n<p>/etc/init.dにjarへのリンボリックリンクを貼ります。</p>\n<p>現状は/var/webにSprignBootアプリケーションのjarが存在ます。</p>\n<p><img src=\"/2659/1.png\" alt=\"画像\"></p>\n<p>以下のコマンドでシンボリックリンクを作成します</p>\n<div class=\"remark-highlight\"><pre class=\"language-unknown\"><code class=\"language-unknown\">sudo ln -s /var/web/transactiontest-0.0.1-SNAPSHOT.jar /etc/init.d/spring</code></pre></div>\n<p>springというシンボリックリンクが作成されています</p>\n<p><img src=\"/2659/2.png\" alt=\"画像\"></p>\n<h2>サービスの起動</h2>\n<p>ここで一旦端末を再起動させます</p>\n<p>再起動後にサービスを起動します</p>\n<div class=\"remark-highlight\"><pre class=\"language-unknown\"><code class=\"language-unknown\">sudo service spring start</code></pre></div>\n<p>サービスの状態を確認します</p>\n<div class=\"remark-highlight\"><pre class=\"language-unknown\"><code class=\"language-unknown\">sudo service --status-all</code></pre></div>\n<p><img src=\"/2659/3.png\" alt=\"画像\"></p>\n<ul>\n<li>postgresqlが起動している</li>\n<li>springが起動している</li>\n</ul>\n<p>この状態になっていればjarが実行中になっています。ブラウザで確認してみます</p>\n<p><img src=\"/2659/4.png\" alt=\"画像\"></p>\n<ul>\n<li>ブラウザからSpringBootが起動していることが確認できる</li>\n</ul>\n<h2>build.gradle</h2>\n<p>補足的なことですが、実行可能なjarファイルとしてbuildするときにはbuild.gradleに以下のような記載をします</p>\n<div class=\"remark-highlight\"><pre class=\"language-html\"><code class=\"language-html\">apply plugin: org.springframework.boot.gradle.plugin.SpringBootPlugin\n\nbootJar {\n\tlaunchScript()\n}\n\n</code></pre></div>\n<ul>\n<li>参考サイトとは違うので注意です</li>\n</ul>\n<h2>参考</h2>\n<ul>\n<li>https://www.memory-lovers.blog/entry/2016/05/22/115741</li>\n</ul>","slug":"p2659"},"__N_SSG":true}