{"pageProps":{"frontMatter":{"title":"C# | 配列をyamlファイルとして保存する","date":"2021.10.05","description":"C# | 配列をyamlファイルとして保存する","categories":["WPF"]},"content":"<p>yamlファイルでは-をつけて配列を表現します。そしてこれはよく使われるので、今回はC#で作成したyamlオブジェクトの配列をyamlファイルとして保存する処理を記載していきます。</p>\n<p>まずは前提として配列の要素数は不変であるということです。つまり追加したり削除したりできます。</p>\n<p>通常の配列では要素の数を変更することができないのでコレクションを使います。</p>\n<p>頭の整理も兼ねて少し遠回りな記載になってしまいましたが、ご了承ください。</p>\n<h2>VVM</h2>\n<p>動きを確認するために簡単なバインディングを試してみます。ビューモデルを作成してxamlのDataContextに設定します。</p>\n<div class=\"remark-highlight\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>Grid</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>Label</span> <span class=\"token attr-name\">Content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ファイルを開いてYAMLファイルを作成しましょう<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">HorizontalAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Left<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">VerticalAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Top<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>ListBox</span> <span class=\"token attr-name\">ItemsSource</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{Binding List}<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>250<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Margin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0,5,0,10<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>Grid</span><span class=\"token punctuation\">></span></span>\n</code></pre></div>\n<p>このListBoxにBindさせるListを持つViewModelを作成します。</p>\n<p>listを返すListを定義しています。また、コンストラクタで値を初期化しています。</p>\n<div class=\"remark-highlight\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">YamlViewModel</span> <span class=\"token operator\">:</span> <span class=\"token class-name\">INotifyPropertyChanged</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> event <span class=\"token class-name\">PropertyChangedEventHandler</span> <span class=\"token class-name\">PropertyChanged</span><span class=\"token punctuation\">;</span>\n\n    string<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> list<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> string<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token class-name\">List</span>\n    <span class=\"token punctuation\">{</span>\n        get\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>list<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        set\n        <span class=\"token punctuation\">{</span>\n\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">YamlViewModel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n       list <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> string<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"ちさと\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"かのん\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"まんまる\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ギャラクシー\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"丸なんだyo♪\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>これを使うためPage.xaml.csを修正します。</p>\n<div class=\"remark-highlight\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token class-name\">Page1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n     <span class=\"token punctuation\">{</span>\n         <span class=\"token class-name\">InitializeComponent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n         <span class=\"token class-name\"><span class=\"token namespace\">this<span class=\"token punctuation\">.</span></span>DataContext</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">YamlManager</span><span class=\"token punctuation\">.</span><span class=\"token function\">getInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>yamlData<span class=\"token punctuation\">;</span>\n\n         <span class=\"token keyword\">var</span> viewmodel <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">YamlViewModel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n         <span class=\"token class-name\"><span class=\"token namespace\">this<span class=\"token punctuation\">.</span></span>DataContext</span> <span class=\"token operator\">=</span> viewmodel<span class=\"token punctuation\">;</span>\n\n     <span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>モデルを作成していないですが、イメージ通りのバインドができていました。</p>\n<p><img src=\"/93/1.png\" alt=\"画像\"></p>\n<h3>Listにしてシングルトンクラスにする</h3>\n<p>今はただの配列になっていますが、List型にします。なぜなら要素を追加削除したいので、便利なList型にしておきます。</p>\n<p>また、ViewModelっぽいものをシングルトンクラスにしちゃいます。</p>\n<div class=\"remark-highlight\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">YamlViewModel</span> <span class=\"token operator\">:</span> <span class=\"token class-name\">INotifyPropertyChanged</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> event <span class=\"token class-name\">PropertyChangedEventHandler</span> <span class=\"token class-name\">PropertyChanged</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">YamlViewModel</span> instance <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">YamlViewModel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">YamlViewModel</span> <span class=\"token function\">getInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> instance<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&#x3C;</span>string<span class=\"token punctuation\">></span></span> list<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&#x3C;</span>string<span class=\"token punctuation\">></span></span> <span class=\"token class-name\">List</span>\n    <span class=\"token punctuation\">{</span>\n        get\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>list<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        set\n        <span class=\"token punctuation\">{</span>\n\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">YamlViewModel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        list <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&#x3C;</span>string<span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\"><span class=\"token namespace\">list<span class=\"token punctuation\">.</span></span>Add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"かのん\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\"><span class=\"token namespace\">list<span class=\"token punctuation\">.</span></span>Add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"くぅくぅ\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\"><span class=\"token namespace\">list<span class=\"token punctuation\">.</span></span>Add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"すみれ\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\"><span class=\"token namespace\">list<span class=\"token punctuation\">.</span></span>Add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ちさと\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\"><span class=\"token namespace\">list<span class=\"token punctuation\">.</span></span>Add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"れん\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<h3>要素を追加する</h3>\n<p>テキストボックスとボタンをxamlに追加して、要素を追加できるようにしましょう。</p>\n<div class=\"remark-highlight\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>Grid</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>Label</span> <span class=\"token attr-name\">Content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ファイルを開いてYAMLファイルを作成しましょう<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">HorizontalAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Left<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">VerticalAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Top<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>ListBox</span> <span class=\"token attr-name\">ItemsSource</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{Binding List}<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>250<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Margin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0,5,0,10<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>Label</span> <span class=\"token attr-name\">Content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Label<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">HorizontalAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Left<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Margin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>41,146,0,0<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">VerticalAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Top<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>TextBox</span> <span class=\"token attr-name\"><span class=\"token namespace\">x:</span>Name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>addbox<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">HorizontalAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Left<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Margin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>41,123,0,0<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Text</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>TextBox<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">TextWrapping</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Wrap<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">VerticalAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Top<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>120<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>Button</span> <span class=\"token attr-name\">Content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Add<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>addItem<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">HorizontalAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Left<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Margin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>39,177,0,0<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">VerticalAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Top<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>Grid</span><span class=\"token punctuation\">></span></span>\n</code></pre></div>\n<p>追加する処理を記載します。</p>\n<div class=\"remark-highlight\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">private</span> <span class=\"token keyword\">void</span> <span class=\"token function\">addItem</span><span class=\"token punctuation\">(</span>object sender<span class=\"token punctuation\">,</span> <span class=\"token class-name\">RoutedEventArgs</span> e<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">var</span> newItem <span class=\"token operator\">=</span> <span class=\"token class-name\"><span class=\"token namespace\">addbox<span class=\"token punctuation\">.</span></span>Text</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token keyword\">var</span> list <span class=\"token operator\">=</span> <span class=\"token class-name\">YamlViewModel</span><span class=\"token punctuation\">.</span><span class=\"token function\">getInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>List<span class=\"token punctuation\">;</span>\n            <span class=\"token class-name\"><span class=\"token namespace\">list<span class=\"token punctuation\">.</span></span>Add</span><span class=\"token punctuation\">(</span>newItem<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token class-name\">MessageBox<span class=\"token punctuation\">.</span>Show</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"追加しました\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>実行しても、画面上は追加されません。</p>\n<p>というのも変更したことをViewが判断できないのです。そこで、簡単に変更を通知できるObservableCollectionを使います。</p>\n<p>といってもListからObservableCollectionに変更するだけでOKです。</p>\n<div class=\"remark-highlight\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">YamlViewModel</span> <span class=\"token operator\">:</span> <span class=\"token class-name\">INotifyPropertyChanged</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">public</span> event <span class=\"token class-name\">PropertyChangedEventHandler</span> <span class=\"token class-name\">PropertyChanged</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">YamlViewModel</span> instance <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">YamlViewModel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">YamlViewModel</span> <span class=\"token function\">getInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> instance<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token class-name\">ObservableCollection</span><span class=\"token generics\"><span class=\"token punctuation\">&#x3C;</span>string<span class=\"token punctuation\">></span></span> list<span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">public</span> <span class=\"token class-name\">ObservableCollection</span><span class=\"token generics\"><span class=\"token punctuation\">&#x3C;</span>string<span class=\"token punctuation\">></span></span> <span class=\"token class-name\">List</span>\n        <span class=\"token punctuation\">{</span>\n            get\n            <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>list<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            set\n            <span class=\"token punctuation\">{</span>\n            <span class=\"token punctuation\">}</span>\n           \n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">private</span> <span class=\"token class-name\">YamlViewModel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{</span>\n            list <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ObservableCollection</span><span class=\"token generics\"><span class=\"token punctuation\">&#x3C;</span>string<span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token class-name\"><span class=\"token namespace\">list<span class=\"token punctuation\">.</span></span>Add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"かのん\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token class-name\"><span class=\"token namespace\">list<span class=\"token punctuation\">.</span></span>Add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"くぅくぅ\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token class-name\"><span class=\"token namespace\">list<span class=\"token punctuation\">.</span></span>Add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"すみれ\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token class-name\"><span class=\"token namespace\">list<span class=\"token punctuation\">.</span></span>Add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ちさと\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token class-name\"><span class=\"token namespace\">list<span class=\"token punctuation\">.</span></span>Add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"れん\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p><img src=\"/93/2.png\" alt=\"画像\"></p>\n<p>Listと使い方は同じですが、Addメソッドをコールした段階で通知がいくようで、Viewに即時反映されています。</p>\n<h3>リストの要素を削除する</h3>\n<p>まずはListBoxにアクセスできるように名前をつけて、さらに削除ボタンを追加します。</p>\n<div class=\"remark-highlight\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>Grid</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>Label</span> <span class=\"token attr-name\">Content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ファイルを開いてYAMLファイルを作成しましょう<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">HorizontalAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Left<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">VerticalAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Top<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>ListBox</span> <span class=\"token attr-name\"><span class=\"token namespace\">x:</span>Name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>mylistbox<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">ItemsSource</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{Binding List}<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>250<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Margin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0,5,0,10<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>Label</span> <span class=\"token attr-name\">Content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Label<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">HorizontalAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Left<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Margin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>41,146,0,0<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">VerticalAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Top<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>TextBox</span> <span class=\"token attr-name\"><span class=\"token namespace\">x:</span>Name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>addbox<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">HorizontalAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Left<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Margin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>41,123,0,0<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Text</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>TextBox<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">TextWrapping</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Wrap<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">VerticalAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Top<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>120<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>Button</span> <span class=\"token attr-name\">Content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Add<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>addItem<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">HorizontalAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Left<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Margin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>39,177,0,0<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">VerticalAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Top<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>Button</span> <span class=\"token attr-name\">Content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Delete<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>DeleteItem<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">HorizontalAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Left<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Margin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>32,225,0,0<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">VerticalAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Top<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>Grid</span><span class=\"token punctuation\">></span></span>\n</code></pre></div>\n<p>削除するメソッドを追加します。</p>\n<div class=\"remark-highlight\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">private</span> <span class=\"token keyword\">void</span> <span class=\"token class-name\">DeleteItem</span><span class=\"token punctuation\">(</span>object sender<span class=\"token punctuation\">,</span> <span class=\"token class-name\">RoutedEventArgs</span> e<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token namespace\">mylistbox<span class=\"token punctuation\">.</span></span>SelectedItem</span> <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token keyword\">int</span> index <span class=\"token operator\">=</span> <span class=\"token class-name\"><span class=\"token namespace\">mylistbox<span class=\"token punctuation\">.</span></span>SelectedIndex</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">var</span> list <span class=\"token operator\">=</span> <span class=\"token class-name\">YamlViewModel</span><span class=\"token punctuation\">.</span><span class=\"token function\">getInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>List<span class=\"token punctuation\">;</span>\n            <span class=\"token class-name\"><span class=\"token namespace\">list<span class=\"token punctuation\">.</span></span>RemoveAt</span><span class=\"token punctuation\">(</span>index<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>要素を選択してDeleteボタンを押すと、その要素が削除されるようになりました。</p>\n<p><img src=\"/93/3.png\" alt=\"画像\"></p>\n<h3>Yamlファイルに書き出す</h3>\n<p>yamlファイルに書き出します。</p>\n<p>試験的に作っているので画面ぐちゃぐちゃになってしまっています。</p>\n<p>保存するときは、YamlDataに反映させて保存すればOKです。</p>\n<p>YamlDataについては前回の記事で記載しております。</p>\n<p>まずはTextBoxの内容をYamlDataに反映させるためのSaveボタンを用意します。</p>\n<div class=\"remark-highlight\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>Grid</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>Label</span> <span class=\"token attr-name\">Content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ファイルを開いてYAMLファイルを作成しましょう<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">HorizontalAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Left<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">VerticalAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Top<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>ListBox</span> <span class=\"token attr-name\"><span class=\"token namespace\">x:</span>Name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>mylistbox<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">ItemsSource</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{Binding List}<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>250<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Margin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0,5,0,10<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>Label</span> <span class=\"token attr-name\">Content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Label<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">HorizontalAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Left<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Margin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>41,146,0,0<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">VerticalAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Top<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>TextBox</span> <span class=\"token attr-name\"><span class=\"token namespace\">x:</span>Name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>addbox<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">HorizontalAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Left<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Margin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>41,123,0,0<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Text</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>TextBox<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">TextWrapping</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Wrap<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">VerticalAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Top<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>120<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>Button</span> <span class=\"token attr-name\">Content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Add<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>addItem<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">HorizontalAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Left<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Margin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>39,177,0,0<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">VerticalAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Top<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>Button</span> <span class=\"token attr-name\">Content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Delete<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>DeleteItem<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">HorizontalAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Left<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Margin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>32,225,0,0<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">VerticalAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Top<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>Button</span> <span class=\"token attr-name\">Content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Save<span class=\"token punctuation\">\"</span></span>  <span class=\"token attr-name\">Click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>SaveItem<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">HorizontalAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Left<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Margin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>52,291,0,0<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">VerticalAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Top<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>Grid</span><span class=\"token punctuation\">></span></span>\n</code></pre></div>\n<p>Saveボタンを押したときの処理を記載しますが、通常のListだと配列に変換もToArrayでいけるようですが、ObservableCollectionを配列に変換するメソッドは無さそうでした？</p>\n<p>そこでLinqを使います。C#の強力なお友達を使えば一撃でした。するとToArrayメソッドが使えるようになります。</p>\n<div class=\"remark-highlight\"><pre class=\"language-java\"><code class=\"language-java\">using <span class=\"token class-name\">System<span class=\"token punctuation\">.</span>Linq</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">private</span> <span class=\"token keyword\">void</span> <span class=\"token class-name\">SaveItem</span><span class=\"token punctuation\">(</span>object sender<span class=\"token punctuation\">,</span> <span class=\"token class-name\">RoutedEventArgs</span> e<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> yamlManager <span class=\"token operator\">=</span> <span class=\"token class-name\">YamlManager</span><span class=\"token punctuation\">.</span><span class=\"token function\">getInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">var</span> list <span class=\"token operator\">=</span> <span class=\"token class-name\">YamlViewModel</span><span class=\"token punctuation\">.</span><span class=\"token function\">getInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>List<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">var</span> new_array <span class=\"token operator\">=</span> <span class=\"token class-name\"><span class=\"token namespace\">list<span class=\"token punctuation\">.</span></span>ToArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    yamlManager<span class=\"token punctuation\">.</span>yamlData<span class=\"token punctuation\">.</span>list <span class=\"token operator\">=</span> new_array<span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">MessageBox<span class=\"token punctuation\">.</span>Show</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"反映しました\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>保存されたyamlファイルを確認します。</p>\n<div class=\"remark-highlight\"><pre class=\"language-html\"><code class=\"language-html\">sample: 澁谷かのん\ndbname: \nlist:\n- かのん\n- くぅくぅ\n- すみれ\n- ちさと\n- れん\n</code></pre></div>\n<p>完璧です！</p>\n<h2>番外編　| 辞書型を使う</h2>\n<p>辞書型は使えますが、key情報をいちいち設定しないといけないので、連番管理テーブルなどで管理する場合はいいですが、少し不都合が起きます。</p>\n<p>ただ、xamlでvalueを表示するのに少し手入れが必要なので、メモします。</p>\n<div class=\"remark-highlight\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">YamlViewModel</span> <span class=\"token operator\">:</span> <span class=\"token class-name\">INotifyPropertyChanged</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> event <span class=\"token class-name\">PropertyChangedEventHandler</span> <span class=\"token class-name\">PropertyChanged</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token class-name\">Dictionary</span><span class=\"token generics\"><span class=\"token punctuation\">&#x3C;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> list<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Dictionary</span><span class=\"token generics\"><span class=\"token punctuation\">&#x3C;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> <span class=\"token class-name\">List</span>\n    <span class=\"token punctuation\">{</span>\n        get\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>list<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        set\n        <span class=\"token punctuation\">{</span>\n\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">YamlViewModel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        list <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Dictionary</span><span class=\"token generics\"><span class=\"token punctuation\">&#x3C;</span>string<span class=\"token punctuation\">,</span> string<span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\"><span class=\"token namespace\">list<span class=\"token punctuation\">.</span></span>Add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"たこやき\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"ちさと\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\"><span class=\"token namespace\">list<span class=\"token punctuation\">.</span></span>Add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"クレープ\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"くぅくぅ\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\"><span class=\"token namespace\">list<span class=\"token punctuation\">.</span></span>Add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"コーラフロート\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"かのん\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>この結果を見ると、key情報も出力されていますが、問題なく動作しています。</p>\n<p><img src=\"/93/4.png\" alt=\"画像\"></p>\n<p>valueだけを表示させたい場合はxamlを以下のように修正します。</p>\n<div class=\"remark-highlight\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>Grid</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>Label</span> <span class=\"token attr-name\">Content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ファイルを開いてYAMLファイルを作成しましょう<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">HorizontalAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Left<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">VerticalAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Top<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>ListBox</span> <span class=\"token attr-name\">ItemsSource</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{Binding List}<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>250<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Margin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0,5,0,10<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">SelectedValuePath</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Key<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">DisplayMemberPath</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Value<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>Grid</span><span class=\"token punctuation\">></span></span>\n</code></pre></div>\n<p><img src=\"/93/5.png\" alt=\"画像\"></p>\n<h2>終わりに</h2>\n<p>私はメソッド名とかキャメルケースで書く癖があるのですが、C#では大文字始まりが慣例のようです。</p>","slug":"p93"},"__N_SSG":true}