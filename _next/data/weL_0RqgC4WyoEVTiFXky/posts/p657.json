{"pageProps":{"frontMatter":{"title":"LaravelでうまくBindingできない時","date":"2021.12.16","description":"LaravelでうまくBindingできない時","categories":["Laravel"]},"content":"<p>環境laravel8</p>\n<p>こんなエラー</p>\n<div class=\"remark-highlight\"><pre class=\"language-unknown\"><code class=\"language-unknown\">Illuminate\\Contracts\\Container\\BindingResolutionException\nTarget class [Domain\\Service\\Impl\\PostServiceImpl] does not exist.</code></pre></div>\n<p>サービスプロバイダー</p>\n<div class=\"remark-highlight\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function-definition function\">register</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token this keyword\">$this</span><span class=\"token operator\">-></span><span class=\"token property\">app</span><span class=\"token operator\">-></span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token scope\">PostService<span class=\"token punctuation\">::</span></span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span><span class=\"token scope\">PostServiceImpl<span class=\"token punctuation\">::</span></span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token this keyword\">$this</span><span class=\"token operator\">-></span><span class=\"token property\">app</span><span class=\"token operator\">-></span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token scope\">PostRepository<span class=\"token punctuation\">::</span></span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span><span class=\"token scope\">PostRepositoryImpl<span class=\"token punctuation\">::</span></span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>app.php</p>\n<div class=\"remark-highlight\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token scope\">App<span class=\"token punctuation\">\\</span>Providers<span class=\"token punctuation\">\\</span>ModelServiceProvider<span class=\"token punctuation\">::</span></span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span>\n</code></pre></div>\n<p>いたって普通の作りでコントローラーにてインジェクトして利用するケースだがエラーになってしまう。</p>\n<div class=\"remark-highlight\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function-definition function\">register</span><span class=\"token punctuation\">(</span><span class=\"token class-name type-declaration\">PostService</span> <span class=\"token variable\">$postService</span><span class=\"token punctuation\">,</span><span class=\"token class-name type-declaration\">Request</span> <span class=\"token variable\">$request</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n\n</code></pre></div>\n<p>Appフォルダ以外のフォルダでバインドできない？ようです。</p>\n<p>今回の場合は</p>\n<p>AppのほかにDomainフォルダを作りました。そこのファイルがバインドできませんでしたので、全てApp\\Domainのように修正したらバインドできるようになりました。</p>\n<p>Domain\\Service　→ App\\Domain\\Serviceに修正</p>\n<p>ただ、これが正しいとは到底思えないので、おそらくLaravelで何らかの設定を行うことで、実現できるかもしれません。。。</p>\n<p>もしかしたら名前空間だけ修正すれば実現できたかも。。試してなかったので試したら更新します。とほほ</p>","slug":"p657"},"__N_SSG":true}