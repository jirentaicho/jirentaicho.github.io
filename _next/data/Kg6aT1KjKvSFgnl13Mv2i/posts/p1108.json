{"pageProps":{"frontMatter":{"title":"Gitコマンドの勉強記録 取消編","date":"2022.02.13","description":"Gitコマンドの勉強記録 取消編","categories":["Git"]},"content":"<p>今回は作業してたけど取消たい時を想定してやってみます。</p>\n<h2>reset</h2>\n<p>コミットしたけど取消たい時</p>\n<p><img src=\"/1108/1.png\" alt=\"画像\"></p>\n<p>git reset –soft HEAD^</p>\n<p>コミットしたファイルがステージングに戻っています。</p>\n<p><img src=\"/1108/2.png\" alt=\"画像\"></p>\n<p><img src=\"/1108/3.png\" alt=\"画像\"></p>\n<p>チェリーピックするとコミットまで行われますが、ステージングに留めることもできます。コミットまでしたけど、やっぱりステージングにしたいというときもこれでOKです。</p>\n<p>チェリーピックを行ったけれど、コミットまでされます。</p>\n<div class=\"remark-highlight\"><pre class=\"language-html\"><code class=\"language-html\">kirino@LAPTOP-GQK0K0U4 MINGW64 /d/work/github (dev01)\n$ git cherry-pick e0db154a2ca88a8e2d1588fc3cf8d80afe10d500\n[dev01 11a54b0] aaa#\n Date: Sun Feb 13 15:34:57 2022 +0900\n 2 files changed, 0 insertions(+), 0 deletions(-)\n create mode 100644 dev.java\n create mode 100644 miss.java\n\n</code></pre></div>\n<p><img src=\"/1108/4.png\" alt=\"画像\"></p>\n<p>以下のコマンドを実施する</p>\n<p>git reset –soft HEAD^</p>\n<p>ステージングにチェリーピックしたファイルが移動します。</p>\n<p><img src=\"/1108/5.png\" alt=\"画像\"></p>\n<p><img src=\"/1108/6.png\" alt=\"画像\"></p>\n<h2>–mixed</h2>\n<p>そもそもステージングからも消したい時は、–softじゃなくて–mixedを利用します。</p>\n<div class=\"remark-highlight\"><pre class=\"language-html\"><code class=\"language-html\">$ git cherry-pick ad0207a4993358c024be8d5a06dc01b8e9c3809d\n[dev01 b683179] fugaaaa\n Date: Sun Feb 13 15:51:35 2022 +0900\n 1 file changed, 0 insertions(+), 0 deletions(-)\n create mode 100644 fugaaaaa.hs\n</code></pre></div>\n<p><img src=\"/1108/7.png\" alt=\"画像\"></p>\n<p>以下のコマンドで戻します。</p>\n<p>git reset –mixed HEAD^</p>\n<p><img src=\"/1108/8.png\" alt=\"画像\"></p>\n<p>ステージングにもない状態になります。</p>\n<p><img src=\"/1108/9.png\" alt=\"画像\"></p>\n<h2>revert</h2>\n<p>先ほどのは直前のコミットを取消ましたが、今回のは打消しコミットを作成する方法です。</p>\n<p><img src=\"/1108/10.png\" alt=\"画像\"></p>\n<p>この間違ったコミットのコミットIDをgit revertの引数に指定します</p>\n<div class=\"remark-highlight\"><pre class=\"language-html\"><code class=\"language-html\">git revert 74057832938805951477bf727aefe55796d46c14\nRemoving miss.java\nRemoving dev.java\n[dev01 6ffef45] Revert \"間違ったコミット\"\n 2 files changed, 0 insertions(+), 0 deletions(-)\n delete mode 100644 dev.java\n delete mode 100644 miss.java\n\n</code></pre></div>\n<p>こんな画面が表示されます</p>\n<p><img src=\"/1108/11.png\" alt=\"画像\"></p>\n<p>:qで抜けます。</p>\n<p>打消しコミットが行われています。</p>\n<p><img src=\"/1108/12.png\" alt=\"画像\"></p>\n<p><img src=\"/1108/13.png\" alt=\"画像\"></p>","slug":"p1108"},"__N_SSG":true}