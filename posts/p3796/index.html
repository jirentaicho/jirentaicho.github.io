<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@site"/><meta name="twitter:creator" content="@keisukesiratori"/><meta property="og:site_name" content="Edelstein"/><title>Swaggerが少しわかったになれる記事</title><meta name="robots" content="index,follow"/><meta name="description" content="Swaggerが少しわかったになれる記事"/><meta property="og:title" content="Swaggerが少しわかったになれる記事"/><meta property="og:description" content="Swaggerが少しわかったになれる記事"/><meta property="og:url" content="http:localhost:3000/posts/p3796"/><meta property="og:type" content="website"/><meta property="og:image" content="https://locahost:3000/undefined"/><meta property="og:image:alt" content="Swaggerが少しわかったになれる記事"/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="700"/><meta name="next-head-count" content="17"/><link rel="preload" href="/_next/static/css/df6bb53438996960.css" as="style"/><link rel="stylesheet" href="/_next/static/css/df6bb53438996960.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-8fa1640cc84ba8fe.js" defer=""></script><script src="/_next/static/chunks/framework-7751730b10fa0f74.js" defer=""></script><script src="/_next/static/chunks/main-480c748fb908b436.js" defer=""></script><script src="/_next/static/chunks/pages/_app-5a840d570c522cf0.js" defer=""></script><script src="/_next/static/chunks/7-a9ae6bf2d6049209.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bslug%5D-31ed6b5e8c78747a.js" defer=""></script><script src="/_next/static/weL_0RqgC4WyoEVTiFXky/_buildManifest.js" defer=""></script><script src="/_next/static/weL_0RqgC4WyoEVTiFXky/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="flex flex-col min-h-screen bg-zinc-800"><header class="sticky top-0 border-b border-zinc-400 z-10 bg-zinc-900 text-slate-400"><div class="max-w-4xl mx-auto flex justify-between items-center h-12"><a href="/">Home</a><a target="_blank" href="https://github.com/jirentaicho">Github</a><a target="_blank" href="https://zenn.dev/misaka">Zenn</a></div></header><main class="flex-1 max-w-4xl w-full mx-auto"><div class="prose prose-lg max-w-none text-emerald-400"><h1 class="mt-12">Swaggerが少しわかったになれる記事</h1><span>2022.10.02</span><div class="space-x-2"><span><a class="text-emerald-300" href="/categories/Swagger/">Swagger</a></span></div></div></main><footer class="bg-zinc-900 text-slate-400"><div class="max-w-4xl w-full mx-auto h-24 flex items-center justify-center"><div>© volkruss.com / Edelstein</div></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontMatter":{"title":"Swaggerが少しわかったになれる記事","date":"2022.10.02","description":"Swaggerが少しわかったになれる記事","categories":["Swagger"]},"content":"\u003cp\u003e最初にSwaggerを知ったのは「現場至上主義 Spring Boot2 徹底活用」という本です。しかしよくわからないので飛ばしていたので、今回はそこをやり直しました。\u003c/p\u003e\n\u003cp\u003eSwaggerについてよくわからないという人が、少しわかったになれるを目標にします。\u003c/p\u003e\n\u003cp\u003eちなみにSwaggerはOpenAPI準拠ということで、API管理のデファクトスタンダードと呼ばれるほどらしいです。\u003c/p\u003e\n\u003ch2\u003eSwaggerどうやる\u003c/h2\u003e\n\u003cp\u003eyamlファイルで記述したAPI仕様に基づいて、SwaggerUIがAPI定義を表示してくれます。SwaggerUIではリクエストパラメータの詳細やContent-Type、戻値の確認などできます。そしてCodegenがAPI定義に基づいてサーバー側とクライアント側のコードを自動生成してくれます。\u003c/p\u003e\n\u003cp\u003e今回はサーバー側のコードを自動生成してSpringで起動します。クライアント側はPostmanで代用して試していきます。\u003c/p\u003e\n\u003ch2\u003eいきなりSwaggerを試す\u003c/h2\u003e\n\u003cp\u003eまずは以下のサイトにアクセスします\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/3796/1.png\" alt=\"画像\"\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e左側がyamlでAPI仕様を書くエディタです\u003c/li\u003e\n\u003cli\u003e右側がSwaggerUIです\u003c/li\u003e\n\u003cli\u003e画面上部のリンクのGenetateとあるのがCodegenです\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e左で書いた内容を元に、他のツールが機能する感じですね。つまり左側のyamlファイルさえ記述できればあとはなんとかなる！ということですが、yamlファイルは超シンプルにします。\u003c/p\u003e\n\u003cp\u003eまずはAPIの情報を定義します\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-ts\"\u003e\u003ccode class=\"language-ts\"\u003eopenapi\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token number\"\u003e3.0\u003c/span\u003e\u003cspan class=\"token number\"\u003e.0\u003c/span\u003e\ninfo\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\n  title\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e Item \u003cspan class=\"token constant\"\u003eAPI\u003c/span\u003e\n  description\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e Item \u003cspan class=\"token constant\"\u003eAPI\u003c/span\u003e sample study\n  version\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token number\"\u003e1.0\u003c/span\u003e\u003cspan class=\"token number\"\u003e.0\u003c/span\u003e\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e\u003cimg src=\"/3796/2.png\" alt=\"画像\"\u003e\u003c/p\u003e\n\u003cp\u003e書いた内容で右側のUIが更新されます。これはItemAPIであることをyamlにて宣言しているだけです。\u003c/p\u003e\n\u003cp\u003e次にサーバー情報を追記しておきます\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-ts\"\u003e\u003ccode class=\"language-ts\"\u003eopenapi\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token number\"\u003e3.0\u003c/span\u003e\u003cspan class=\"token number\"\u003e.0\u003c/span\u003e\ninfo\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\n  title\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e Item \u003cspan class=\"token constant\"\u003eAPI\u003c/span\u003e\n  description\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e Item \u003cspan class=\"token constant\"\u003eAPI\u003c/span\u003e sample study\n  version\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token number\"\u003e1.0\u003c/span\u003e\u003cspan class=\"token number\"\u003e.0\u003c/span\u003e\nservers\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e url\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e http\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003evolkruss\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ecom\n  \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e url\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e http\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003evolkruss2\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ecom\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e\u003cimg src=\"/3796/3.png\" alt=\"画像\"\u003e\u003c/p\u003e\n\u003cp\u003e右側にServersというドロップダウンが表示されました。これがサーバーのアドレスを指定します。というのもSwaggerUIでは実際にリクエストを投げることができるのです。なのでちゃんとしたサーバーを指定すれば、実際のAPIの結果を受け取ることができます。\u003c/p\u003e\n\u003cp\u003e自分のローカルにSwagerUIを作っておけば、ローカルホストで動いてるアプリケーション挙動が確認できるということです。（今回はブラウザでSwaggerUIを試しているのでできません）\u003c/p\u003e\n\u003cp\u003e次はルーティング情報を定義します。ここが一番重要なポイントで、どのURLに対してどのアクションで、どんな結果を返すのかを定義しています。\u003c/p\u003e\n\u003cp\u003e少し長いですが、一部を除いてすぐに理解できると思います。\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-ts\"\u003e\u003ccode class=\"language-ts\"\u003eopenapi\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token number\"\u003e3.0\u003c/span\u003e\u003cspan class=\"token number\"\u003e.0\u003c/span\u003e\ninfo\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\n  title\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e Item \u003cspan class=\"token constant\"\u003eAPI\u003c/span\u003e\n  description\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e Item \u003cspan class=\"token constant\"\u003eAPI\u003c/span\u003e sample study\n  version\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token number\"\u003e1.0\u003c/span\u003e\u003cspan class=\"token number\"\u003e.0\u003c/span\u003e\nservers\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e url\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e http\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003evolkruss\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ecom\n  \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e url\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e http\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003evolkruss2\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ecom\npaths\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"token operator\"\u003e/\u003c/span\u003eitems\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\n    get\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\n      summary\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e Get Item\n      description\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eget\u003c/span\u003e all item info\n      responses\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"token string-property property\"\u003e'200'\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\n          description\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eget\u003c/span\u003e Json Items\n          content\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\n            application\u003cspan class=\"token operator\"\u003e/\u003c/span\u003ejson\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\n              schema\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\n                type\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e array\n                items\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\n                  $ref\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"#/components/schemas/Item\"\u003c/span\u003e\n                example\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \n                  \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e id\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\n                    name\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e 洗剤\n                  \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e id\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token number\"\u003e2\u003c/span\u003e\n                    name\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e 柔軟剤\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cul\u003e\n\u003cli\u003e/itemsのGETアクションに関して定義しています\u003c/li\u003e\n\u003cli\u003eレスポンスがステータス200の時json形式で配列を返します\n\u003cul\u003e\n\u003cli\u003e配列以外にもいろいろ書けます\u003c/li\u003e\n\u003cli\u003e配列の型はcomponentで定義します(これから書きます)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eexampleはサンプルとして返す具体的な値を定義していますが、今回の場合はItemという型がidとnameという変数を持っている想定で書いています。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eこれで/itemsに対するAPI定義がされています。\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/3796/4.png\" alt=\"画像\"\u003e\u003c/p\u003e\n\u003cp\u003eこんな戻り値が返ってくるよとサンプルの内容も反映されているのがわかりますね。\u003c/p\u003e\n\u003cp\u003eしかし、これではエラーが残っているのと$refってなにという疑問も残ります\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/3796/5.png\" alt=\"画像\"\u003e\u003c/p\u003e\n\u003cp\u003e$refが参照失敗しているというのと、Itemsというのが解決できないというエラーで怒られています。\u003c/p\u003e\n\u003cp\u003eこの$refではcomponentで定義した内容を参照します。今回のコードの場合はcomponentに対してItemを定義してあげる必要があります。\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token literal-property property\"\u003eopenapi\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token number\"\u003e3.0\u003c/span\u003e\u003cspan class=\"token number\"\u003e.0\u003c/span\u003e\n\u003cspan class=\"token literal-property property\"\u003einfo\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"token literal-property property\"\u003etitle\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token maybe-class-name\"\u003eItem\u003c/span\u003e \u003cspan class=\"token constant\"\u003eAPI\u003c/span\u003e\n  \u003cspan class=\"token literal-property property\"\u003edescription\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token maybe-class-name\"\u003eItem\u003c/span\u003e \u003cspan class=\"token constant\"\u003eAPI\u003c/span\u003e sample study\n  \u003cspan class=\"token literal-property property\"\u003eversion\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token number\"\u003e1.0\u003c/span\u003e\u003cspan class=\"token number\"\u003e.0\u003c/span\u003e\n\u003cspan class=\"token literal-property property\"\u003eservers\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e url\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e http\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003evolkruss\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003ecom\u003c/span\u003e\n  \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e url\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e http\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003evolkruss2\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003ecom\u003c/span\u003e\n\u003cspan class=\"token literal-property property\"\u003epaths\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"token operator\"\u003e/\u003c/span\u003eitems\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"token literal-property property\"\u003eget\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"token literal-property property\"\u003esummary\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token maybe-class-name\"\u003eGet\u003c/span\u003e \u003cspan class=\"token maybe-class-name\"\u003eItem\u003c/span\u003e\n      \u003cspan class=\"token literal-property property\"\u003edescription\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eget\u003c/span\u003e all item info\n      \u003cspan class=\"token literal-property property\"\u003eresponses\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"token string-property property\"\u003e'200'\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\n          \u003cspan class=\"token literal-property property\"\u003edescription\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eget\u003c/span\u003e \u003cspan class=\"token maybe-class-name\"\u003eJson\u003c/span\u003e \u003cspan class=\"token maybe-class-name\"\u003eItems\u003c/span\u003e\n          \u003cspan class=\"token literal-property property\"\u003econtent\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\n            application\u003cspan class=\"token operator\"\u003e/\u003c/span\u003ejson\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\n              \u003cspan class=\"token literal-property property\"\u003eschema\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\n                \u003cspan class=\"token literal-property property\"\u003etype\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e array\n                \u003cspan class=\"token literal-property property\"\u003eitems\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\n                  \u003cspan class=\"token literal-property property\"\u003e$ref\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"#/components/schemas/Item\"\u003c/span\u003e\n                \u003cspan class=\"token literal-property property\"\u003eexample\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \n                  \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e id\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\n                    \u003cspan class=\"token literal-property property\"\u003ename\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e 洗剤\n                  \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e id\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token number\"\u003e2\u003c/span\u003e\n                    \u003cspan class=\"token literal-property property\"\u003ename\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e 柔軟剤\n\u003cspan class=\"token literal-property property\"\u003ecomponents\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"token literal-property property\"\u003eschemas\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"token literal-property property\"\u003eItem\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"token literal-property property\"\u003etype\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e object\n      \u003cspan class=\"token literal-property property\"\u003eproperties\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"token literal-property property\"\u003eid\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\n          \u003cspan class=\"token literal-property property\"\u003etype\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e integer\n        \u003cspan class=\"token literal-property property\"\u003ename\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\n          \u003cspan class=\"token literal-property property\"\u003etype\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e string\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eItemはid(integer)とname(string)を持ったオブジェクトであることを定義しました。これでUIのほうでもエラーがなくなっています。\u003c/p\u003e\n\u003ch2\u003eSpringApplicationとして動かす\u003c/h2\u003e\n\u003cp\u003eこのAPI定義に基づいてコードを自動生成します。\u003c/p\u003e\n\u003cp\u003e画面上部のGeneateServerからspringを選択するとzipファイルがダウンロードされます\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/3796/6.png\" alt=\"画像\"\u003e\u003c/p\u003e\n\u003cp\u003e解凍したファイルをstsなどでインポートします\u003c/p\u003e\n\u003cp\u003eまず依存関係を追加しておきます\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-html\"\u003e\u003ccode class=\"language-html\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003edependency\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n    \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003egroupId\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003ejakarta.xml.bind\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003egroupId\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n    \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003eartifactId\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003ejakarta.xml.bind-api\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003eartifactId\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n    \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003eversion\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e2.3.2\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003eversion\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003edependency\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e参考\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://hatenablog-parts.com/embed?url=https%3A%2F%2Fuga-box.hatenablog.com%2Fentry%2F2021%2F02%2F10%2F000000\"\u003e参考\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e少し自動生成されたファイルを見てみます\u003c/p\u003e\n\u003cp\u003eまずはmodel/Item.javaです\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-java\"\u003e\u003ccode class=\"language-java\"\u003e\u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eItem\u003c/span\u003e   \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token annotation punctuation\"\u003e@JsonProperty\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eInteger\u003c/span\u003e id \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enull\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n  \u003cspan class=\"token annotation punctuation\"\u003e@JsonProperty\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"name\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e name \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enull\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n  \u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eItem\u003c/span\u003e \u003cspan class=\"token function\"\u003eid\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eInteger\u003c/span\u003e id\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eid \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e id\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003ecomponentで定義した内容が定義されているのがわかります。\u003c/p\u003e\n\u003cp\u003e次にapi/ItemsApi.javaです\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-c\"\u003e\u003ccode class=\"language-c\"\u003e@javax\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eannotation\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eGenerated\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003evalue \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"io.swagger.codegen.v3.generators.java.SpringCodegen\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e date \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"2022-10-01T09:48:15.864Z[GMT]\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n@Validated\npublic interface ItemsApi \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\n    @\u003cspan class=\"token function\"\u003eOperation\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003esummary \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"Get Item\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e description \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"get all item info\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e tags\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    @\u003cspan class=\"token function\"\u003eApiResponses\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003evalue \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e \n        @\u003cspan class=\"token function\"\u003eApiResponse\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eresponseCode \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"200\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e description \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"get Json Items\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e content \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e @\u003cspan class=\"token function\"\u003eContent\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003emediaType \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"application/json\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e array \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e @\u003cspan class=\"token function\"\u003eArraySchema\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eschema \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e @\u003cspan class=\"token function\"\u003eSchema\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eimplementation \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e Item\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eclass\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    @\u003cspan class=\"token function\"\u003eRequestMapping\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003evalue \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"/items\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n        produces \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"application/json\"\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \n        method \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e RequestMethod\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eGET\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    ResponseEntity\u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003eList\u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003eItem\u003cspan class=\"token operator\"\u003e\u003e\u003e\u003c/span\u003e \u003cspan class=\"token function\"\u003eitemsGet\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e/itemsに対してListのResponseEntityを返すというitemsGetメソッドが定義されたインターフェースになっていることがわかります。\u003c/p\u003e\n\u003cp\u003e次にこのクラスの実装クラスであるapi/ItemsApiController.javaを見てみます\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-java\"\u003e\u003ccode class=\"language-java\"\u003e\u003cspan class=\"token annotation punctuation\"\u003e@javax.annotation.Generated\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003evalue \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"io.swagger.codegen.v3.generators.java.SpringCodegen\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e date \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"2022-10-01T09:48:15.864Z[GMT]\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"token annotation punctuation\"\u003e@RestController\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eItemsApiController\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eimplements\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eItemsApi\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\n    \u003cspan class=\"token keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"token keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efinal\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eLogger\u003c/span\u003e log \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eLoggerFactory\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003egetLogger\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eItemsApiController\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"token keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efinal\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eObjectMapper\u003c/span\u003e objectMapper\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"token keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efinal\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eHttpServletRequest\u003c/span\u003e request\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"token annotation punctuation\"\u003e@org.springframework.beans.factory.annotation.Autowired\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eItemsApiController\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eObjectMapper\u003c/span\u003e objectMapper\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eHttpServletRequest\u003c/span\u003e request\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eobjectMapper \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e objectMapper\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003erequest \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e request\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eResponseEntity\u003c/span\u003e\u003cspan class=\"token generics\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eList\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eItem\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token function\"\u003eitemsGet\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e accept \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e request\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003egetHeader\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"Accept\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eaccept \u003cspan class=\"token operator\"\u003e!=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enull\u003c/span\u003e \u003cspan class=\"token operator\"\u003e\u0026#x26;\u0026#x26;\u003c/span\u003e accept\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003econtains\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"application/json\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"token keyword\"\u003etry\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eResponseEntity\u003c/span\u003e\u003cspan class=\"token generics\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eList\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eItem\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eobjectMapper\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ereadValue\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"[ {\\n  \\\"id\\\" : 1,\\n  \\\"name\\\" : \\\"洗剤\\\"\\n}, {\\n  \\\"id\\\" : 2,\\n  \\\"name\\\" : \\\"柔軟剤\\\"\\n} ]\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eList\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eHttpStatus\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token constant\"\u003eNOT_IMPLEMENTED\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token keyword\"\u003ecatch\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eIOException\u003c/span\u003e e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n                log\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eerror\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"Couldn't serialize response for content type application/json\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eResponseEntity\u003c/span\u003e\u003cspan class=\"token generics\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eList\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eItem\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eHttpStatus\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token constant\"\u003eINTERNAL_SERVER_ERROR\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eResponseEntity\u003c/span\u003e\u003cspan class=\"token generics\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eList\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eItem\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eHttpStatus\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token constant\"\u003eNOT_IMPLEMENTED\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eオーバーライドしているitemsGetメソッドはObjectMapperを利用してItemクラスを生成して、ResponseEntityを返しているのがわかります。\u003c/p\u003e\n\u003cp\u003eしかし、これはステータスコードは501になっているのでOKの200に修正しておきます。\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-unknown\"\u003e\u003ccode class=\"language-unknown\"\u003ereturn new ResponseEntity\u0026#x26;lt;List\u0026#x26;lt;Item\u0026#x26;gt;\u0026#x26;gt;(objectMapper.readValue(\u0026#x26;quot;[ {\\n  \\\u0026#x26;quot;id\\\u0026#x26;quot; : 1,\\n  \\\u0026#x26;quot;name\\\u0026#x26;quot; : \\\u0026#x26;quot;洗剤\\\u0026#x26;quot;\\n}, {\\n  \\\u0026#x26;quot;id\\\u0026#x26;quot; : 2,\\n  \\\u0026#x26;quot;name\\\u0026#x26;quot; : \\\u0026#x26;quot;柔軟剤\\\u0026#x26;quot;\\n} ]\u0026#x26;quot;, List.class), HttpStatus.OK);\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eこれでSpringBootAppとして実行します。\u003c/p\u003e\n\u003cp\u003e次にPostmanからリクエストを送信します\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/3796/7.png\" alt=\"画像\"\u003e\u003c/p\u003e\n\u003cp\u003eAcceptというkeyに対してapplication/jsonというValueを指定してSendします\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/3796/8.png\" alt=\"画像\"\u003e\u003c/p\u003e\n\u003cp\u003eステータスコード200で、サンプルで定義したItemが取得できていることがわかりました。\u003c/p\u003e\n\u003cp\u003eこれでなんとなくSwaggerがわかったかと思います。APIを定義してコードの自動生成までやってしまう化け物です。\u003c/p\u003e\n\u003cp\u003e他にもAPI定義書をドキュメントとして生成したり、Springではspringfoxを利用することでSwaggerと連携できたりします。\u003c/p\u003e\n\u003cp\u003eその辺はまた今度やっていきます。\u003c/p\u003e","slug":"p3796"},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"p3796"},"buildId":"weL_0RqgC4WyoEVTiFXky","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>