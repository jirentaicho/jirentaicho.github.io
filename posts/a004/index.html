<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@site"/><meta name="twitter:creator" content="@keisukesiratori"/><meta property="og:site_name" content="Edelstein"/><title>ファイル検索コマンド</title><meta name="robots" content="index,follow"/><meta name="description" content="基本的なファイル検索コマンドをメモ"/><meta property="og:title" content="ファイル検索コマンド"/><meta property="og:description" content="基本的なファイル検索コマンドをメモ"/><meta property="og:url" content="http:localhost:3000/posts/a004"/><meta property="og:type" content="website"/><meta property="og:image" content="https://locahost:3000/undefined"/><meta property="og:image:alt" content="ファイル検索コマンド"/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="700"/><meta name="next-head-count" content="17"/><link rel="preload" href="/_next/static/css/df6bb53438996960.css" as="style"/><link rel="stylesheet" href="/_next/static/css/df6bb53438996960.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-8fa1640cc84ba8fe.js" defer=""></script><script src="/_next/static/chunks/framework-7751730b10fa0f74.js" defer=""></script><script src="/_next/static/chunks/main-480c748fb908b436.js" defer=""></script><script src="/_next/static/chunks/pages/_app-5a840d570c522cf0.js" defer=""></script><script src="/_next/static/chunks/7-a9ae6bf2d6049209.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bslug%5D-31ed6b5e8c78747a.js" defer=""></script><script src="/_next/static/zySuBojNZUu9-667yIcmf/_buildManifest.js" defer=""></script><script src="/_next/static/zySuBojNZUu9-667yIcmf/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="flex flex-col min-h-screen bg-zinc-800"><header class="sticky top-0 border-b border-zinc-400 z-10 bg-zinc-900 text-slate-400"><div class="max-w-4xl mx-auto flex justify-between items-center h-12"><a href="/">Home</a><a target="_blank" href="https://github.com/jirentaicho">Github</a><a target="_blank" href="https://zenn.dev/misaka">Zenn</a></div></header><main class="flex-1 max-w-4xl w-full mx-auto"><div class="prose prose-lg max-w-none text-emerald-400"><h1 class="mt-12">ファイル検索コマンド</h1><span>2022.11.08</span><div class="space-x-2"><span><a class="text-emerald-300" href="/categories/Linux/">Linux</a></span></div></div></main><footer class="bg-zinc-900 text-slate-400"><div class="max-w-4xl w-full mx-auto h-24 flex items-center justify-center"><div>© volkruss.com / Edelstein</div></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontMatter":{"title":"ファイル検索コマンド","date":"2022.11.08","description":"基本的なファイル検索コマンドをメモ","categories":["Linux"]},"content":"\u003cp\u003eファイル検索をコマンドラインから行う際のメモです\u003c/p\u003e\n\u003ch1\u003eファイル名を指定して検索\u003c/h1\u003e\n\u003cp\u003efindコマンドを利用してファイル名からファイルを検索します。\u003c/p\u003e\n\u003cp\u003efind / -name ファイル名\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-sh\"\u003e\u003ccode class=\"language-sh\"\u003esh-4.2$ \u003cspan class=\"token function\"\u003efind\u003c/span\u003e / \u003cspan class=\"token parameter variable\"\u003e-name\u003c/span\u003e listener.log\nfind: \u003cspan class=\"token string\"\u003e'/etc/pki/CA/private'\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e Permission denied\n/opt/oracle/diag/tnslsnr/ecf69755a585/listener/trace/listener.log\nsh-4.2$\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e権限回りで検索できないのがありますが、listener.logというファイルを検索できています。\u003cbr\u003e\nちなみに/は全てのディレクトリを対象にしていますが、現在のディレクトリのみを対象にもできます\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-sh\"\u003e\u003ccode class=\"language-sh\"\u003esh-4.2$ \u003cspan class=\"token function\"\u003efind\u003c/span\u003e ./ \u003cspan class=\"token parameter variable\"\u003e-name\u003c/span\u003e listener.log\nsh-4.2$\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e*なども利用でき、以下では全てのファイル名を対象に検索します\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-sh\"\u003e\u003ccode class=\"language-sh\"\u003esh-4.2$ \u003cspan class=\"token function\"\u003els\u003c/span\u003e\nlog.xml\nsh-4.2$ \u003cspan class=\"token function\"\u003efind\u003c/span\u003e ./ \u003cspan class=\"token parameter variable\"\u003e-name\u003c/span\u003e log.*\n./log.xml\nsh-4.2$\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch1\u003e特定の文字列を含むファイルを検索する\u003c/h1\u003e\n\u003cp\u003egrepコマンドを利用して検索文字列が含まれているファイルを探します\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-sh\"\u003e\u003ccode class=\"language-sh\"\u003esh-4.2$ \u003cspan class=\"token function\"\u003egrep\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"XML\"\u003c/span\u003e \u003cspan class=\"token parameter variable\"\u003e-rl\u003c/span\u003e /opt/oracle/homes/OraDBHome21cXE/rdbms/log\n/opt/oracle/homes/OraDBHome21cXE/rdbms/log/qopatch_log.log\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e\"XML\"という文字列を含むファイルを/opt/oracle/homes/OraDBHome21cXE/rdbms/logというフォルダから検索する\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e-r\n\u003cul\u003e\n\u003cli\u003e指定したパス以下を再帰検索する\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e-l\n\u003cul\u003e\n\u003cli\u003e出力結果をファイル名のみにする\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e上記の例ではファイル名のみを出力対象にしていますが、もしもつけないとどこでXMLという文字列が利用されているのかまだ出力されます\u003c/p\u003e\n\u003cp\u003eもしも-lオプションをつけないと以下のようになります\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-sh\"\u003e\u003ccode class=\"language-sh\"\u003esh-4.2$ \u003cspan class=\"token function\"\u003egrep\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"XML\"\u003c/span\u003e \u003cspan class=\"token parameter variable\"\u003e-r\u003c/span\u003e /opt/oracle/homes/OraDBHome21cXE/rdbms/log\n/opt/oracle/homes/OraDBHome21cXE/rdbms/log/qopatch_log.log:Field Definitions \u003cspan class=\"token keyword\"\u003efor\u003c/span\u003e table OPATCH_XML_INV\n/opt/oracle/homes/OraDBHome21cXE/rdbms/log/qopatch_log.log:    XML_INVENTORY                   CHAR \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e100000000\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n/opt/oracle/homes/OraDBHome21cXE/rdbms/log/qopatch_log.log:Field Definitions \u003cspan class=\"token keyword\"\u003efor\u003c/span\u003e table OPATCH_XML_INV\n/opt/oracle/homes/OraDBHome21cXE/rdbms/log/qopatch_log.log:    XML_INVENTORY                   CHAR \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e100000000\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n/opt/oracle/homes/OraDBHome21cXE/rdbms/log/qopatch_log.log:Field Definitions \u003cspan class=\"token keyword\"\u003efor\u003c/span\u003e table OPATCH_XML_INV\n/opt/oracle/homes/OraDBHome21cXE/rdbms/log/qopatch_log.log:    XML_INVENTORY                   CHAR \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e100000000\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n/opt/oracle/homes/OraDBHome21cXE/rdbms/log/qopatch_log.log:Field Definitions \u003cspan class=\"token keyword\"\u003efor\u003c/span\u003e table OPATCH_XML_INV\n/opt/oracle/homes/OraDBHome21cXE/rdbms/log/qopatch_log.log:    XML_INVENTORY                   CHAR \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e100000000\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n/opt/oracle/homes/OraDBHome21cXE/rdbms/log/qopatch_log.log:Field Definitions \u003cspan class=\"token keyword\"\u003efor\u003c/span\u003e table OPATCH_XML_INV\n/opt/oracle/homes/OraDBHome21cXE/rdbms/log/qopatch_log.log:    XML_INVENTORY                   CHAR \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e100000000\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n/opt/oracle/homes/OraDBHome21cXE/rdbms/log/qopatch_log.log:Field Definitions \u003cspan class=\"token keyword\"\u003efor\u003c/span\u003e table OPATCH_XML_INV\n/opt/oracle/homes/OraDBHome21cXE/rdbms/log/qopatch_log.log:    XML_INVENTORY                   CHAR \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e100000000\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e同一のファイルですが、XMLという文字列を持っているので何度も出力されています\u003c/p\u003e\n\u003cp\u003eまた-rオプションを付けない場合はファイル名を指定する必要がありますので以下はエラー\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-sh\"\u003e\u003ccode class=\"language-sh\"\u003esh-4.2$ \u003cspan class=\"token function\"\u003egrep\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"XML\"\u003c/span\u003e \u003cspan class=\"token parameter variable\"\u003e-l\u003c/span\u003e /opt/oracle/homes/OraDBHome21cXE/rdbms/log\ngrep: /opt/oracle/homes/OraDBHome21cXE/rdbms/log: Is a directory\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eファイル名を指定してあげます\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-sh\"\u003e\u003ccode class=\"language-sh\"\u003esh-4.2$ \u003cspan class=\"token function\"\u003egrep\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"XML\"\u003c/span\u003e /opt/oracle/homes/OraDBHome21cXE/rdbms/log/qopatch_log.log\nField Definitions \u003cspan class=\"token keyword\"\u003efor\u003c/span\u003e table OPATCH_XML_INV\n    XML_INVENTORY                   CHAR \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e100000000\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\nField Definitions \u003cspan class=\"token keyword\"\u003efor\u003c/span\u003e table OPATCH_XML_INV\n    XML_INVENTORY                   CHAR \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e100000000\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\nField Definitions \u003cspan class=\"token keyword\"\u003efor\u003c/span\u003e table OPATCH_XML_INV\n    XML_INVENTORY                   CHAR \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e100000000\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\nField Definitions \u003cspan class=\"token keyword\"\u003efor\u003c/span\u003e table OPATCH_XML_INV\n    XML_INVENTORY                   CHAR \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e100000000\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\nField Definitions \u003cspan class=\"token keyword\"\u003efor\u003c/span\u003e table OPATCH_XML_INV\n    XML_INVENTORY                   CHAR \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e100000000\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\nField Definitions \u003cspan class=\"token keyword\"\u003efor\u003c/span\u003e table OPATCH_XML_INV\n    XML_INVENTORY                   CHAR \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e100000000\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e権限の問題で表示に難ありですが、/var配下で\"ORA-03113\"を含むファイルを出力した例です\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-sh\"\u003e\u003ccode class=\"language-sh\"\u003esh-4.2$ \u003cspan class=\"token function\"\u003egrep\u003c/span\u003e \u003cspan class=\"token parameter variable\"\u003e-rl\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"ORA-03113\"\u003c/span\u003e /var\ngrep: /var/spool/mail/rpc: Permission denied\ngrep: /var/spool/cron: Permission denied\ngrep: /var/lib/yum/history/history-2022-09-21.sqlite: Permission denied\ngrep: /var/lib/yum/history/2022-09-21/1: Permission denied\ngrep: /var/lib/yum/history/2022-09-21/4: Permission denied\ngrep: /var/lib/yum/history/2022-09-21/5: Permission denied\ngrep: /var/lib/yum/history/2022-09-21/2: Permission denied\ngrep: /var/lib/yum/history/2022-09-21/3: Permission denied\ngrep: /var/lib/yum/history/history-2022-09-21.sqlite-journal: Permission denied\ngrep: /var/lib/systemd/random-seed: Permission denied\ngrep: /var/lib/rpcbind: Permission denied\ngrep: /var/lib/gssproxy/clients: Permission denied\ngrep: /var/lib/gssproxy/rcache: Permission denied\ngrep: /var/lib/machines: Permission denied\ngrep: /var/lib/nfs/statd: Permission denied\ngrep: /var/cache/ldconfig: Permission denied\ngrep: /var/log/yum.log: Permission denied\ngrep: /var/log/tallylog: Permission denied\ngrep: /var/log/btmp: Permission denied\ngrep: /var/log/oracle-database-preinstall-21c/results: Permission denied\ngrep: /var/log/oracle-database-preinstall-21c/backup/Oct-04-2022-02-44-45: Permission denied\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","slug":"a004"},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"a004"},"buildId":"zySuBojNZUu9-667yIcmf","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>