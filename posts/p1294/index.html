<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@site"/><meta name="twitter:creator" content="@keisukesiratori"/><meta property="og:site_name" content="Edelstein"/><title>ソースコードジェネレータ | 現場至上主義 Spring Boot2 徹底活用</title><meta name="robots" content="index,follow"/><meta name="description" content="ソースコードジェネレータ | 現場至上主義 Spring Boot2 徹底活用"/><meta property="og:title" content="ソースコードジェネレータ | 現場至上主義 Spring Boot2 徹底活用"/><meta property="og:description" content="ソースコードジェネレータ | 現場至上主義 Spring Boot2 徹底活用"/><meta property="og:url" content="http:localhost:3000/posts/p1294"/><meta property="og:type" content="website"/><meta property="og:image" content="https://locahost:3000/undefined"/><meta property="og:image:alt" content="ソースコードジェネレータ | 現場至上主義 Spring Boot2 徹底活用"/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="700"/><meta name="next-head-count" content="17"/><link rel="preload" href="/_next/static/css/df6bb53438996960.css" as="style"/><link rel="stylesheet" href="/_next/static/css/df6bb53438996960.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-8fa1640cc84ba8fe.js" defer=""></script><script src="/_next/static/chunks/framework-7751730b10fa0f74.js" defer=""></script><script src="/_next/static/chunks/main-480c748fb908b436.js" defer=""></script><script src="/_next/static/chunks/pages/_app-5a840d570c522cf0.js" defer=""></script><script src="/_next/static/chunks/7-a9ae6bf2d6049209.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bslug%5D-31ed6b5e8c78747a.js" defer=""></script><script src="/_next/static/lPZB0NBHNUwCNxiPNxpHr/_buildManifest.js" defer=""></script><script src="/_next/static/lPZB0NBHNUwCNxiPNxpHr/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="flex flex-col min-h-screen bg-zinc-800"><header class="sticky top-0 border-b border-zinc-400 z-10 bg-zinc-900 text-slate-400"><div class="max-w-4xl mx-auto flex justify-between items-center h-12"><a href="/">Home</a><a target="_blank" href="https://github.com/jirentaicho">Github</a><a target="_blank" href="https://zenn.dev/misaka">Zenn</a></div></header><main class="flex-1 max-w-4xl w-full mx-auto"><div class="prose prose-lg max-w-none text-emerald-400"><h1 class="mt-12">ソースコードジェネレータ | 現場至上主義 Spring Boot2 徹底活用</h1><span>2022.07.29</span><div class="space-x-2"><span><a class="text-emerald-300" href="/categories/Spring/">Spring</a></span></div></div></main><footer class="bg-zinc-900 text-slate-400"><div class="max-w-4xl w-full mx-auto h-24 flex items-center justify-center"><div>© volkruss.com / Edelstein</div></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontMatter":{"title":"ソースコードジェネレータ | 現場至上主義 Spring Boot2 徹底活用","date":"2022.07.29","description":"ソースコードジェネレータ | 現場至上主義 Spring Boot2 徹底活用","categories":["Spring"]},"content":"\u003cp\u003e正直、私がこの本で一番興味があったのがソースコードジェネレータの箇所です。\u003c/p\u003e\n\u003cp\u003eソースコードの自動生成はやったことがあります。画面もそうですが、DB定義からdaoとかを自動生成したりするものもあります（S2JDBC-Gen）\u003c/p\u003e\n\u003cp\u003e本の内容としては実装詳細は省かれていたので、こちらも調べつつ実装してみます。基本的にはテンプレートとなるtxtファイルを用意しておいて、そこに値を埋め込んでソースコードを作成するようです。\u003c/p\u003e\n\u003cp\u003eどうやって値を埋め込むかというとThymeleafを利用します。\u003c/p\u003e\n\u003cp\u003eソースとしてはここら辺が該当します\u003c/p\u003e\n\u003cp\u003ehttps://github.com/miyabayt/spring-boot-doma2-sample/tree/master/buildSrc/src/main\u003c/p\u003e\n\u003cp\u003e参考サイト\u003c/p\u003e\n\u003cp\u003ehttp://gradle.monochromeroad.com/docs/userguide/custom_tasks.html\u003c/p\u003e\n\u003cp\u003ehttps://qiita.com/niwasawa/items/5f0f5c08fbcedd2221a7\u003c/p\u003e\n\u003cp\u003eこの記事をブラッシュアップした記事を投稿しました\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"/posts/p3149\"\u003eリンク\u003c/a\u003e\u003c/p\u003e\n\u003ch2\u003eGradle\u003c/h2\u003e\n\u003cp\u003egradleについて詳しくないので調べつつやっていきます\u003c/p\u003e\n\u003cp\u003eとりあえずGthubソースのgradleバージョンが低いため、compileはimplementationに置き換える必要がある。\u003c/p\u003e\n\u003cp\u003eまたプロジェクトルートのgradleはcom.ドメイン名を省略しています。\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-unknown\"\u003e\u003ccode class=\"language-unknown\"\u003eapply plugin: CodeGenPlugin\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eフォルダ構成は参考のGithubに合わせて作成します\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/1294/1.png\" alt=\"画像\"\u003e\u003c/p\u003e\n\u003cp\u003ebuild.gradleの内容は記事の終わりに記載しています。\u003c/p\u003e\n\u003ch2\u003e空タスクの作成\u003c/h2\u003e\n\u003cp\u003eとりあえず自作のタスクを作りますが、そこのひな型は完全に書籍を参考にしています。\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-ts\"\u003e\u003ccode class=\"language-ts\"\u003e\u003cspan class=\"token keyword\"\u003epackage\u003c/span\u003e com\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003evolkruss\n\n\u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e org\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003egradle\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eapi\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ePlugin\n\u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e org\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003egradle\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eapi\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eProject\n\n\u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eCodeGenPlugin\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eimplements\u003c/span\u003e \u003cspan class=\"token class-name\"\u003ePlugin\u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003eProject\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\n    \u003cspan class=\"token decorator\"\u003e\u003cspan class=\"token at operator\"\u003e@\u003c/span\u003e\u003cspan class=\"token function\"\u003eOverride\u003c/span\u003e\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"token function\"\u003eapply\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eProject project\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        project\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eextensions\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ecreate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"codegen\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e CodeGenPluginExtension\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eclass\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        project\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003etask\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"codegen\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e type\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e GenerateTask\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-ts\"\u003e\u003ccode class=\"language-ts\"\u003e\u003cspan class=\"token keyword\"\u003epackage\u003c/span\u003e com\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003evolkruss\n\n\u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e org\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003egradle\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eapi\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eDefaultTask\n\u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e org\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003egradle\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eapi\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003etasks\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eTaskAction\n\n\u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eGenerateTask\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eDefaultTask\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token decorator\"\u003e\u003cspan class=\"token at operator\"\u003e@\u003c/span\u003e\u003cspan class=\"token function\"\u003eTaskAction\u003c/span\u003e\u003c/span\u003e\n    def \u003cspan class=\"token function\"\u003ecodegen\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token function\"\u003eprintln\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"called!\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-ts\"\u003e\u003ccode class=\"language-ts\"\u003e\u003cspan class=\"token keyword\"\u003epackage\u003c/span\u003e com\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003evolkruss\n\n\u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eCodeGenPluginExtension\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e認識されれば以下のようにタスクとして追加されます\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/1294/2.png\" alt=\"画像\"\u003e\u003c/p\u003e\n\u003cp\u003e実行するとcalled!と出力されます\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-unknown\"\u003e\u003ccode class=\"language-unknown\"\u003e\u0026#x26;gt; Task :codegen\ncalled!\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch2\u003e引数とエクステンションの読み取り\u003c/h2\u003e\n\u003cp\u003e引数を受取ってみます。引数を渡すには -P引数名としてあげれば良さそうです。受取るにはprojectオブジェクトを利用します。\u003c/p\u003e\n\u003cp\u003e簡単な例で引数の動きを確認します。\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-ts\"\u003e\u003ccode class=\"language-ts\"\u003e\u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eGenerateTask\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eDefaultTask\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token decorator\"\u003e\u003cspan class=\"token at operator\"\u003e@\u003c/span\u003e\u003cspan class=\"token function\"\u003eTaskAction\u003c/span\u003e\u003c/span\u003e\n    def \u003cspan class=\"token function\"\u003ecodegen\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token function\"\u003eprintln\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"called!\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token operator\"\u003e!\u003c/span\u003eproject\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ehasProperty\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"misaka\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"token function\"\u003eprint\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"misakaが設定されていません\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"token function\"\u003eprint\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eproject\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003emisaka\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003etoString\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"token function\"\u003eprint\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"-----end-----\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-unknown\"\u003e\u003ccode class=\"language-unknown\"\u003ePS D:\\work\\misaka\\misaka\u0026#x26;gt; gradle codegen -Pmisaka=mikoto\nStarting a Gradle Daemon, 1 busy and 2 incompatible Daemons could not be reused, use --status for details\n\n\u0026#x26;gt; Task :codegen\ncalled!\nmikoto-----end-----\n\n\nPS D:\\work\\misaka\\misaka\u0026#x26;gt; gradle codegen -Pkuroko=sirai\n\n\u0026#x26;gt; Task :codegen\ncalled!\nmisakaが設定されていません\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e次にエクステンションから値を取得します。\u003c/p\u003e\n\u003cp\u003eエクステンションから値を受取るには以下のようにします。\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-unknown\"\u003e\u003ccode class=\"language-unknown\"\u003eproject.extensions.findByType(Class)\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e簡単な例でエクステンションから値を受取ってみます。\u003c/p\u003e\n\u003cp\u003eまずはエクステンションにnameプロパティを追加します。\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-ts\"\u003e\u003ccode class=\"language-ts\"\u003e\u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eCodeGenPluginExtension\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    String name \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"Misaka Mikoto\"\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e次にタスクからエクステンションの値を取得します。\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-ts\"\u003e\u003ccode class=\"language-ts\"\u003e\u003cspan class=\"token decorator\"\u003e\u003cspan class=\"token at operator\"\u003e@\u003c/span\u003e\u003cspan class=\"token function\"\u003eTaskAction\u003c/span\u003e\u003c/span\u003e\n    def \u003cspan class=\"token function\"\u003ecodegen\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token function\"\u003eprintln\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"called!\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token operator\"\u003e!\u003c/span\u003eproject\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ehasProperty\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"misaka\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"token function\"\u003eprint\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"misakaが設定されていません\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"token function\"\u003eprint\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eproject\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003emisaka\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003etoString\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"token function\"\u003eprint\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"-----end-----\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\n        \u003cspan class=\"token comment\"\u003e//エクステンションから値を読み込む\u003c/span\u003e\n        def ext \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e project\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eextensions\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003efindByType\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eCodeGenPluginExtension\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"token function\"\u003eprint\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eext\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ename\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-unknown\"\u003e\u003ccode class=\"language-unknown\"\u003ePS D:\\work\\misaka\\misaka\u0026#x26;gt; gradle codegen -Pmisaka=mikoto\n\n\u0026#x26;gt; Task :codegen\ncalled!\nmikoto-----end-----Misaka Mikoto\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eここまでの知識があればサンプルのソースコードは理解できるようになると思います。\u003c/p\u003e\n\u003ch2\u003eテンプレートの作成\u003c/h2\u003e\n\u003cp\u003e次にtxtファイルからテンプレートとなるひな形を取得して、Thymeleafを利用して値を埋め込みます。今回は参考GithubからDto.txtを利用します。\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/1294/3.png\" alt=\"画像\"\u003e\u003c/p\u003e\n\u003cp\u003e少しだけtxtファイルは修正しました。※パッケージ箇所commonDtoPackageNameは利用しないため除去します。そのため継承も削除します。\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-java\"\u003e\u003ccode class=\"language-java\"\u003e\u003cspan class=\"token keyword\"\u003epackage\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e$\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003edomainBaseName\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e$\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003edtoPackageName\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e$\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003esubSystem\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"token import\"\u003e\u003cspan class=\"token namespace\"\u003eorg\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eseasar\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003edoma\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token operator\"\u003e*\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"token import\"\u003e\u003cspan class=\"token namespace\"\u003elombok\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eGetter\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"token import\"\u003e\u003cspan class=\"token namespace\"\u003elombok\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eSetter\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token annotation punctuation\"\u003e@Table\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ename \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"[[${lowerFuncName}]]s\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token comment\"\u003e//現状ではyでもysになる\u003c/span\u003e\n\u003cspan class=\"token annotation punctuation\"\u003e@Entity\u003c/span\u003e\n\u003cspan class=\"token annotation punctuation\"\u003e@Getter\u003c/span\u003e\n\u003cspan class=\"token annotation punctuation\"\u003e@Setter\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e$\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003eupperFuncName\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\n    \u003cspan class=\"token keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"token keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efinal\u003c/span\u003e \u003cspan class=\"token keyword\"\u003elong\u003c/span\u003e serialVersionUID \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e\u003cspan class=\"token number\"\u003e1L\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"token annotation punctuation\"\u003e@Id\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@Column\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ename \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"[[${lowerFuncName}]]_id\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@GeneratedValue\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003estrategy \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eGenerationType\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token constant\"\u003eIDENTITY\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token class-name\"\u003eLong\u003c/span\u003e id\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e$\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003elowerFuncName\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eName\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eエクステンションファイルは以下のように修正します。いらない設定もありますが拡張性を考慮して残しておきます。\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-java\"\u003e\u003ccode class=\"language-java\"\u003e\u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eCodeGenPluginExtension\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e srcDirName \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"src/main/java/\"\u003c/span\u003e\n    \u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e testDirName \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"src/test/groovy/\"\u003c/span\u003e\n    \u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e sqlDirName \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"src/main/resources/META-INF/\"\u003c/span\u003e\n    \u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e htmlDirName \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"src/main/resources/templates/modules/\"\u003c/span\u003e\n    \u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e domainProjectName \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"D:\\\\work\\\\misaka\\\\misaka\"\u003c/span\u003e\n    \u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e webProjectName\n\n    \u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e daoPackageName\n    \u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e dtoPackageName \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"domain.dto\"\u003c/span\u003e\n    \u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e commonDtoPackageName\n    \u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e repositoryPackageName\n    \u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e servicePackageName\n    \u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e commonServicePackageName\n    \u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e exceptionPackageName\n    \u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e webBasePackageName\n    \u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e baseControllerPackageName\n    \u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e controllerPackageName\n    \u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e baseValidatorPackageName\n    \u003cspan class=\"token comment\"\u003e//　追加\u003c/span\u003e\n    \u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e domainBaseName \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"com.volkruss.misaka\"\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eタスクの実装は参考Githubを元に以下のように作成します\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-java\"\u003e\u003ccode class=\"language-java\"\u003e\u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eGenerateTask\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eDefaultTask\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@TaskAction\u003c/span\u003e\n    def \u003cspan class=\"token function\"\u003ecodegen\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\n        \u003cspan class=\"token comment\"\u003e// 利用例\u003c/span\u003e\n        \u003cspan class=\"token comment\"\u003e// gradle codegen -Ptarget=dto -PsubSystem=expenses -Pfunc=salary\u003c/span\u003e\n\n        \u003cspan class=\"token function\"\u003eprintln\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"----start-----\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\n        \u003cspan class=\"token comment\"\u003e// 必須項目チェック / subSystem\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token operator\"\u003e!\u003c/span\u003eproject\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ehasProperty\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"subSystem\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"token function\"\u003eprintln\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"subSystem must not be null\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"token comment\"\u003e// 必須項目チェック / func\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token operator\"\u003e!\u003c/span\u003eproject\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ehasProperty\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"func\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"token function\"\u003eprintln\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"func must not be null\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"token comment\"\u003e// 今回はdtoのみだが、今後作るものによっては判別できる\u003c/span\u003e\n        def target \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enull\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eproject\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ehasProperty\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"target\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n            target \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e project\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003etarget\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"token comment\"\u003e//　エクステンションの取得\u003c/span\u003e\n        def ext \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e project\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eextensions\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003efindByType\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eCodeGenPluginExtension\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"token comment\"\u003e// 利用変数定義\u003c/span\u003e\n        def subSystem \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eStringUtils\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003elowerCase\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eproject\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003esubSystem\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003etoString\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        def func \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eStringUtils\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ecapitalize\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eproject\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003efunc\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003etoString\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        def lowerFunc \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eStringUtils\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003elowerCase\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003efunc\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"token comment\"\u003e// Thymeleafに渡す変数を格納したMap\u003c/span\u003e\n        def objects \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003eextensionsToMap\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"token comment\"\u003e// 機能名\u003c/span\u003e\n        objects\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eput\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"subSystem\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e subSystem\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"token comment\"\u003e// クラス名\u003c/span\u003e\n        objects\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eput\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"upperFuncName\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e func\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"token comment\"\u003e// テーブル及び、カラムのプレフィックス名\u003c/span\u003e\n        objects\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eput\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"lowerFuncName\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e lowerFunc\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\n        \u003cspan class=\"token comment\"\u003e//　出力先のフォルダパス\u003c/span\u003e\n        def domainTarget \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"${ext.domainProjectName}/${ext.srcDirName}/${ext.domainBaseName}\"\u003c/span\u003e\n\n        \u003cspan class=\"token comment\"\u003e// 今回はdtoを受けたらない場合は作成しない\u003c/span\u003e\n        \u003cspan class=\"token comment\"\u003e// if (target == null || target.equals(\"dto\")) {\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003etarget\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eequals\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"dto\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"token comment\"\u003e// テキストファイル\u003c/span\u003e\n            \u003cspan class=\"token comment\"\u003e// dtoファイルの出力パス\u003c/span\u003e\n            \u003cspan class=\"token comment\"\u003e// Mapオブジェクト\u003c/span\u003e\n            \u003cspan class=\"token function\"\u003egenerate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"templates/src/Dto.txt\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token function\"\u003egetTargetPath\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003edomainTarget\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"/${ext.dtoPackageName}/${subSystem}/${func}\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e\".java\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e objects\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"token comment\"\u003e// 出力先のディレクトリ（エクステンション）\u003c/span\u003e\n    \u003cspan class=\"token comment\"\u003e// ファイル名（引数）\u003c/span\u003e\n    \u003cspan class=\"token comment\"\u003e// 拡張子（固定値）\u003c/span\u003e\n\n    \u003cspan class=\"token comment\"\u003e// 完全なパスを返します。\u003c/span\u003e\n    \u003cspan class=\"token comment\"\u003e// パスの想定 domain/dto/{sales}\u003c/span\u003e\n    \u003cspan class=\"token class-name\"\u003ePath\u003c/span\u003e \u003cspan class=\"token function\"\u003egetTargetPath\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e _target\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e _fileName\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e suffix\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        def target \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eStringUtils\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ereplace\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e_target\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e\".\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"/\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        def sb \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eStringBuilder\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eappend\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003etarget\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        def fileName \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eStringUtils\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ereplace\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e_fileName\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e\".\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"/\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token class-name\"\u003ePaths\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eget\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003esb\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003etoString\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"${fileName}${suffix}\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"token comment\"\u003e//　Thymeleafにて取得したStringの内容を、設定したパスにUTF-8で書き込む\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"token function\"\u003egenerate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e template\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token class-name\"\u003ePath\u003c/span\u003e path\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eMap\u003c/span\u003e\u003cspan class=\"token generics\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eObject\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e objects\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        def body \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003eprocessTemplate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003etemplate\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e objects\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        def f \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e path\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003etoFile\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        f\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eparentFile\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003emkdirs\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        f\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ecreateNewFile\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        f\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ewrite\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ebody\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"UTF-8\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e \u003cspan class=\"token function\"\u003eprocessTemplate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e template\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eMap\u003c/span\u003e\u003cspan class=\"token generics\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eObject\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e objects\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        def resolver \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eClassLoaderTemplateResolver\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        resolver\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003esetTemplateMode\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"TEXT\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        resolver\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003esetCharacterEncoding\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"UTF-8\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\n        def templateEngine \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eTemplateEngine\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        templateEngine\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003esetTemplateResolver\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eresolver\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\n        def context \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eContext\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"token comment\"\u003e// 引数で受取った値を元に設定したMapから変数を設定する\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eobjects \u003cspan class=\"token operator\"\u003e!=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enull\u003c/span\u003e \u003cspan class=\"token operator\"\u003e\u0026#x26;\u0026#x26;\u003c/span\u003e \u003cspan class=\"token operator\"\u003e!\u003c/span\u003eobjects\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eisEmpty\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n            objects\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eeach \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e key\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e value \u003cspan class=\"token operator\"\u003e-\u003e\u003c/span\u003e\n                context\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003esetVariable\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ekey\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e value\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"token comment\"\u003e// 指定したテンプレート（テキストデータ）に対してcontextの内容を埋め込んでStringを返す（Modelのような感じ）\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e templateEngine\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eprocess\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003etemplate\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e context\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"token class-name\"\u003eMap\u003c/span\u003e\u003cspan class=\"token generics\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eObject\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token function\"\u003eextensionsToMap\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\n        def ext \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e project\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eextensions\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003efindByType\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eCodeGenPluginExtension\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\n        \u003cspan class=\"token class-name\"\u003eMap\u003c/span\u003e\u003cspan class=\"token generics\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eObject\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e objects \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eHashMap\u003c/span\u003e\u003cspan class=\"token generics\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        objects\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eput\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"commonDtoPackageName\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e ext\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ecommonDtoPackageName\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        objects\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eput\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"dtoPackageName\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e ext\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003edtoPackageName\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        objects\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eput\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"daoPackageName\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e ext\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003edaoPackageName\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        objects\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eput\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"repositoryPackageName\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e ext\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003erepositoryPackageName\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        objects\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eput\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"servicePackageName\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e ext\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eservicePackageName\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        objects\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eput\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"commonServicePackageName\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e ext\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ecommonServicePackageName\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        objects\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eput\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"exceptionPackageName\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e ext\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eexceptionPackageName\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        objects\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eput\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"webBasePackageName\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e ext\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ewebBasePackageName\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        objects\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eput\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"baseControllerPackageName\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e ext\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ebaseControllerPackageName\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        objects\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eput\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"controllerPackageName\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e ext\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003econtrollerPackageName\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        objects\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eput\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"baseValidatorPackageName\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e ext\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ebaseValidatorPackageName\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        objects\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eput\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"domainBaseName\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e ext\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003edomainBaseName\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\n        \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e objects\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e以下の用に引数を設定して実行します\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-unknown\"\u003e\u003ccode class=\"language-unknown\"\u003egradle codegen -Ptarget=dto -PsubSystem=expenses -Pfunc=salary\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e成功すると対象フォルダにSalary.javaが作成されています。\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/1294/4.png\" alt=\"画像\"\u003e\u003c/p\u003e\n\u003cp\u003e出力されたファイルは問題なさそうです。※yをiesにすることは別途対応できそうです。※依存を入れてないパッケージがあるのでエラーになっていますが、依存関係を解決すればエラーも消えるでしょう\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/1294/5.png\" alt=\"画像\"\u003e\u003c/p\u003e\n\u003cp\u003eソースコードジェネレータと聞いて、何か特別なプラグインとかがあるのかと最初は思ったのですが、Thymeleafを利用しますが割と原始的な方法ですね。\u003c/p\u003e\n\u003cp\u003eこれで面倒なファイル作成、およびパッケージ構成のルール定義が解決できます。\u003c/p\u003e\n\u003ch2\u003ebuild.gradle\u003c/h2\u003e\n\u003cp\u003e最後になりますがbuild.gradleを掲載しておきます。\u003c/p\u003e\n\u003cp\u003ebuildSrc/build.gradle\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-ts\"\u003e\u003ccode class=\"language-ts\"\u003ebuildscript \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    ext \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        springBootVersion \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"2.0.6.RELEASE\"\u003c/span\u003e\n        groovyVersion \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"2.5.3\"\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    repositories \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token function\"\u003emavenCentral\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"token function\"\u003ejcenter\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    dependencies \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        classpath \u003cspan class=\"token string\"\u003e\"org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}\"\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\napply plugin\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e'groovy'\u003c/span\u003e\napply plugin\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"io.spring.dependency-management\"\u003c/span\u003e\n\nrepositories \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token function\"\u003emavenLocal\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token function\"\u003emavenCentral\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token function\"\u003ejcenter\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\ndependencyManagement \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    imports \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        mavenBom org\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003espringframework\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eboot\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003egradle\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eplugin\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eSpringBootPlugin\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token constant\"\u003eBOM_COORDINATES\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\ndependencies \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    implementation \u003cspan class=\"token function\"\u003egradleApi\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    implementation \u003cspan class=\"token function\"\u003elocalGroovy\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    implementation \u003cspan class=\"token string\"\u003e\"org.apache.commons:commons-lang3\"\u003c/span\u003e\n    implementation \u003cspan class=\"token string\"\u003e\"org.thymeleaf:thymeleaf\"\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eプロジェクトルート/build.gradle\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-ts\"\u003e\u003ccode class=\"language-ts\"\u003e\u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e com\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003evolkruss\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eCodeGenPlugin\n\nbuildscript \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\text \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\t\tdockerComposePluginVersion \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"0.15.0\"\u003c/span\u003e\n\t\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\trepositories \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\t\t\u003cspan class=\"token function\"\u003emavenCentral\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\t\t\u003cspan class=\"token function\"\u003ejcenter\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\t\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\tdependencies \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\t\tclasspath \u003cspan class=\"token string\"\u003e\"com.avast.gradle:gradle-docker-compose-plugin:${dockerComposePluginVersion}\"\u003c/span\u003e\n\t\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\nplugins \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\tid \u003cspan class=\"token string\"\u003e'org.springframework.boot'\u003c/span\u003e version \u003cspan class=\"token string\"\u003e'2.6.3'\u003c/span\u003e\n\tid \u003cspan class=\"token string\"\u003e'io.spring.dependency-management'\u003c/span\u003e version \u003cspan class=\"token string\"\u003e'1.0.11.RELEASE'\u003c/span\u003e\n\tid \u003cspan class=\"token string\"\u003e'java'\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\ngroup \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e'com.volkruss'\u003c/span\u003e\nversion \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e'0.0.1-SNAPSHOT'\u003c/span\u003e\nsourceCompatibility \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e'11'\u003c/span\u003e\n\nconfigurations \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\tcompileOnly \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\t\textendsFrom annotationProcessor\n\t\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\nrepositories \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\t\u003cspan class=\"token function\"\u003emavenCentral\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\ndependencies \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\timplementation \u003cspan class=\"token string\"\u003e'org.springframework.boot:spring-boot-starter-web'\u003c/span\u003e\n\tcompileOnly \u003cspan class=\"token string\"\u003e'org.projectlombok:lombok'\u003c/span\u003e\n\tdevelopmentOnly \u003cspan class=\"token string\"\u003e'org.springframework.boot:spring-boot-devtools'\u003c/span\u003e\n\tannotationProcessor \u003cspan class=\"token string\"\u003e'org.projectlombok:lombok'\u003c/span\u003e\n\ttestImplementation \u003cspan class=\"token string\"\u003e'org.springframework.boot:spring-boot-starter-test'\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\napply plugin\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"docker-compose\"\u003c/span\u003e\napply plugin\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e CodeGenPlugin \u003cspan class=\"token comment\"\u003e// ここを追加\u003c/span\u003e\n\n\ndockerCompose \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\tuseComposeFiles \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"docker/docker-compose.yml\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\ntasks\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003enamed\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'test'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\t\u003cspan class=\"token function\"\u003euseJUnitPlatform\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eGreetingPlugin\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eimplements\u003c/span\u003e \u003cspan class=\"token class-name\"\u003ePlugin\u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003eProject\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\t\u003cspan class=\"token decorator\"\u003e\u003cspan class=\"token at operator\"\u003e@\u003c/span\u003e\u003cspan class=\"token function\"\u003eOverride\u003c/span\u003e\u003c/span\u003e\n\t\u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"token function\"\u003eapply\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eProject project\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\t\tproject\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003etask\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"hello\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\t\t\t\t\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003edoLast\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003etask \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e System\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eout\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eprintln\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"Hello Gradle!\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\t\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\napply plugin\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e GreetingPlugin\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","slug":"p1294"},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"p1294"},"buildId":"lPZB0NBHNUwCNxiPNxpHr","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>